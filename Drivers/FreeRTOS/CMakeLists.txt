# CMakeLists.txt for FreeRTOS

set(FREERTOS_COMPILER "GCC")
set(FREERTOS_ARCH  "ARM_CM4F")

set(FREERTOS_HEAP_ENABLE 0)
set(FREERTOS_HEAP_SOURCE  "heap_1")

set(FREERTOS_SOURCES
  ${CMAKE_CURRENT_LIST_DIR}/Source/croutine.c
  ${CMAKE_CURRENT_LIST_DIR}/Source/event_groups.c
  ${CMAKE_CURRENT_LIST_DIR}/Source/list.c
  ${CMAKE_CURRENT_LIST_DIR}/Source/queue.c
  ${CMAKE_CURRENT_LIST_DIR}/Source/stream_buffer.c
  ${CMAKE_CURRENT_LIST_DIR}/Source/tasks.c
  ${CMAKE_CURRENT_LIST_DIR}/Source/timers.c
  ${CMAKE_CURRENT_LIST_DIR}/Source/portable/Common/mpu_wrappers.c
  ${CMAKE_CURRENT_LIST_DIR}/Source/portable/${FREERTOS_COMPILER}/${FREERTOS_ARCH}/port.c
  PARENT_SCOPE)

if (${FREERTOS_HEAP_ENABLE})
set(FREERTOS_SOURCES
  ${FREERTOS_SOURCES}
  ${CMAKE_CURRENT_LIST_DIR}/portable/MemMang/${FREERTOS_HEAP_SOURCE}.c
  )
endif()

set(FREERTOS_INCLUDES
  ${CMAKE_CURRENT_LIST_DIR}/Source/include
  ${CMAKE_CURRENT_LIST_DIR}/Source/portable/${FREERTOS_COMPILER}/${FREERTOS_ARCH}/
  PARENT_SCOPE)
